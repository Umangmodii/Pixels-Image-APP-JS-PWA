<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> Pixels |  Images</title>

  
    <!-- Favicon icon -->
    <link rel="icon" type="image/x-icon" href="image/logo2.png">

    <link rel="manifest" href="manifest.json">


  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    /* Updated CSS for image alignment */
    .image-item {
      display: block;
      width: 100%;
      margin-bottom: 10px; /* Add margin between images */
    }

    /* Media queries for responsiveness */
    @media (max-width: 768px) {
      .image-item {
        width: 48%; /* Adjust for smaller screens */
      }
    }
  </style>
</head>
<body>

    <nav class="navbar navbar-light bg-light sticky-top">
        <a class="navbar-brand" href="/">
            <img src="image/logo2.png" width="55" height="60" class="d-inline-block align-top" alt="">
         
        </a>
    </nav>
    
    
    <!-- <div class="container">
    </div> -->
    
    <section class="vh-100">
        <div class="container">
    
            <br>
    
            <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
                <ol class="breadcrumb" id="breadcrumb">
                    <li class="breadcrumb-item"><a href="#">Home</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Results</li>
                </ol>
            </nav>
          

            <br>
            
    <!-- Search form -->
    <div class="input-group mb-3">
      <input type="text" id="searchInput" class="form-control" placeholder="Enter search keywords" aria-label="Enter search keywords" aria-describedby="searchBtn">
      <button class="btn btn-primary" type="button" id="searchBtn">Search</button>
    </div>
  
    <!-- Total results -->
    <div id="totalResults" class="text-center mb-3"></div>
    
    <!-- Images container -->
    <div id="imagesContainer" class="row justify-content-center"></div>
    
    <!-- Pagination -->
    <div class="d-flex justify-content-center mt-3" id="paginationContainer">
      <button class="btn btn-secondary me-2" id="prevPage">Previous</button>
      <button class="btn btn-secondary" id="nextPage">Next</button>
    </div>
    
  </div>

  <br>

  <footer class="bg-body-tertiary text-center text-lg-start bg-light">
    <!-- Copyright -->
    <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.05);">
        Â© 2024 Copyright:
        <a class="text-body" href="6">Umang Modi</a>
    </div>
    <!-- Copyright -->
</footer>

  <!-- Bootstrap JS and jQuery (optional) -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
  <!-- Your custom JavaScript -->
  <script src="script.js"></script>
</body>
</html>


<script>
const apiKey = 'mJStW8Y04RIxhcOsArZneoFnUgoVJiD1CeD2lZgQI1v3msZxjDISfsZE';
let currentPage = 1;
let totalPages = 1;
let totalResults = 0;

function searchImages(query, page) {
  let apiUrl = `https://api.pexels.com/v1/curated?per_page=20&page=${page}`;
  if (query) {
    apiUrl = `https://api.pexels.com/v1/search?query=${query}&per_page=20&page=${page}`;
  }

  fetch(apiUrl, {
    headers: {
      Authorization: apiKey,
    },
  })
    .then(response => response.json())
    .then(data => {
      const imagesContainer = document.getElementById('imagesContainer');
      imagesContainer.innerHTML = ''; // Clear previous search results

      // Create rows for images
      for (let i = 0; i < data.photos.length; i += 4) {
        const row = document.createElement('div');
        row.classList.add('row', 'justify-content-center');

        for (let j = i; j < i + 4 && j < data.photos.length; j++) {
          const imgElement = document.createElement('img');
          imgElement.src = data.photos[j].src.medium;
          imgElement.alt = data.photos[j].alt;
          imgElement.classList.add('img-fluid', 'rounded', 'm-2', 'col-md-3'); // Adjust column size for 4 images
          row.appendChild(imgElement);
        }

        imagesContainer.appendChild(row);
      }

      // Update total results
      totalResults = data.total_results;
      updateTotalResults();

      // Update pagination
      currentPage = page;
      totalPages = Math.ceil(data.total_results / 20);
      updatePaginationButtons();
    })
    .catch(error => console.error('Error fetching images:', error));
}

function updateTotalResults() {
  const totalResultsElement = document.getElementById('totalResults');
  totalResultsElement.textContent = `Total Results: ${totalResults}`;
}

function updatePaginationButtons() {
  const prevPageBtn = document.getElementById('prevPage');
  const nextPageBtn = document.getElementById('nextPage');

prevPageBtn.disabled = currentPage === 1;
nextPageBtn.disabled = currentPage === totalPages;

prevPageBtn.addEventListener('click', () => {
if (currentPage > 1) {
searchImages(document.getElementById('searchInput').value.trim(), currentPage - 1);
}
});

nextPageBtn.addEventListener('click', () => {
if (currentPage < totalPages) {
searchImages(document.getElementById('searchInput').value.trim(), currentPage + 1);
}
});
}

document.getElementById('searchBtn').addEventListener('click', () => {
const searchInput = document.getElementById('searchInput');
const query = searchInput.value.trim();
if (query !== '') {
searchImages(query, 1);
} else {
alert('Please enter search keywords.');
}
});

// Fetch and display images on page load
document.addEventListener('DOMContentLoaded', () => {
searchImages('', 1); // Empty query fetches 20 random images
});
</script>
